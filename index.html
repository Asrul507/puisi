<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>Kado Selamat Tidur</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: #0d1b2a;
      color: white;
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden;
      position: relative;
    }

    .gift-box {
      width: 200px;
      height: 200px;
      background: #ff4d6d;
      border-radius: 20px;
      box-shadow: 0 0 30px rgba(255, 255, 255, 0.3);
      animation: shake 2s infinite;
      position: relative;
      z-index: 2;
    }

    @keyframes shake {
      0%, 100% { transform: rotate(0deg); }
      25% { transform: rotate(1.5deg); }
      50% { transform: rotate(-1.5deg); }
      75% { transform: rotate(1deg); }
    }

    .ribbon {
      position: absolute;
      width: 20px;
      height: 200px;
      background: #fff;
      left: 50%;
      transform: translateX(-50%);
    }

    .ribbon::before {
      content: "";
      position: absolute;
      height: 20px;
      width: 200px;
      top: 50%;
      left: -90px;
      background: #fff;
    }

    .action {
      margin-top: 25px;
      text-align: center;
      z-index: 3;
    }

    h2 {
      margin: 0 0 10px;
    }

    button {
      margin-top: 10px;
      padding: 10px 20px;
      font-size: 1.1em;
      border: none;
      border-radius: 10px;
      background: #fff;
      color: #ff4d6d;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    button:hover {
      background: #ffb3c1;
    }

    .puisi {
      display: none;
      max-width: 700px;
      margin: auto;
      padding: 20px;
      line-height: 1.8;
      font-size: 1.5em;
      white-space: pre-line;
      opacity: 0;
      transform: scale(0.95);
      transition: opacity 2s ease, transform 2s ease;
      z-index: 3;
      position: relative;
    }

    .show {
      display: block;
      opacity: 1;
      transform: scale(1);
    }

    .explode {
      animation: explode 0.8s forwards;
    }

    @keyframes explode {
      0% { transform: scale(1); opacity: 1; }
      100% { transform: scale(1.5); opacity: 0; }
    }

    .floating-message {
      position: absolute;
      bottom: 20px;
      width: 100%;
      text-align: center;
      font-size: 1.2em;
      color: #ffd3dc;
      animation: pulse 3s ease-in-out infinite;
      z-index: 3;
    }

    .overlay {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 30, 0.6);
      backdrop-filter: blur(1px);
      z-index: 1;
    }

    .moon {
      position: absolute;
      top: 50px;
      right: 80px;
      width: 100px;
      height: 100px;
      background: radial-gradient(circle, #fff, rgba(255, 255, 255, 0.1));
      border-radius: 50%;
      box-shadow: 0 0 60px rgba(255,255,255,0.3);
      z-index: 1;
    }

    .heart {
      position: absolute;
      color: rgba(255, 105, 180, 0.8);
      font-size: 24px;
      animation: floatHeart 5s ease-in infinite;
      z-index: 2;
    }

    @keyframes floatHeart {
      0% { transform: translateY(100vh) scale(0.5); opacity: 0; }
      50% { opacity: 1; }
      100% { transform: translateY(-10vh) scale(1); opacity: 0; }
    }

    .stars, .hearts {
      position: absolute;
      width: 100%;
      height: 100%;
      z-index: 0;
      pointer-events: none;
    }

    .star {
      position: absolute;
      background: white;
      width: 2px;
      height: 2px;
      border-radius: 50%;
      animation: twinkle 2s infinite ease-in-out alternate;
      z-index: 1;
    }

    @keyframes twinkle {
      from { opacity: 0.3; transform: scale(1); }
      to { opacity: 1; transform: scale(1.4); }
    }

    /* Menambahkan efek animasi untuk puisi berjalan dari bawah ke atas */
    .line {
      display: block;
      transform: translateY(100%);
      animation: slideUp 15s linear infinite;
    }

    @keyframes slideUp {
      0% { transform: translateY(100%); }
      100% { transform: translateY(-100%); }
    }

    .word {
      display: inline-block;
      opacity: 0;
      transform: scale(0.8);
      animation: fadeIn 0.5s forwards;
    }

    @keyframes fadeIn {
      0% { opacity: 0; transform: scale(0.8); }
      100% { opacity: 1; transform: scale(1); }
    }
  </style>
</head>
<body>

  <div class="stars" id="stars"></div>
  <div class="hearts" id="hearts"></div>
  <div class="moon"></div>
  <div class="overlay"></div>

  <div class="gift-box" id="gift">
    <div class="ribbon"></div>
  </div>

  <div class="action">
    <h2>üéÅ Untukmu</h2>
    <button onclick="bukaKado()">Buka Kado</button>
  </div>

  <div class="puisi" id="puisi"></div>

  <div class="floating-message">Fayza üíñ Asrul</div>

  <audio id="bg-music" autoplay loop muted>
    <source src="https://www.bensound.com/bensound-music/bensound-love.mp3" type="audio/mpeg">
    Browser Anda tidak mendukung audio.
  </audio>

  <script>
    function tampilkanPuisi() {
      const container = document.getElementById("puisi");
      const puisiText = [
        "Di ujung malam yang tenang,",
        "Hanya angin yang menyapa pelan.",
        "Dalam diam, namamu kusebut perlahan,",
        "Sebagai doa, sebagai rindu yang tak tertahan.",
        "",
        "Sayangku,",
        "Jika malam ini kau lelap dengan senyum,",
        "Ketahuilah,",
        "Ada aku yang mengirimkan peluk lewat langit yang diam.",
        "",
        "Aku rindu,",
        "Pada tawamu yang hangat,",
        "Pada suara yang menenangkan hatiku.",
        "Jarak ini membuatku sadar,",
        "Betapa berharganya hadirmu.",
        "",
        "Selamat tidur, cintaku.",
        "Semoga mimpimu indah malam ini.",
        "Di dalamnya, aku ada ‚Äî menemanimu,",
        "Hingga fajar menyapa kita kembali."
      ];

      puisiText.forEach((lineText, index) => {
        const line = document.createElement("p");
        line.className = "line";
        if (lineText.trim() === "") {
          line.innerHTML = "&nbsp;"; // kosongkan tapi tetap beri ruang
        } else {
          const words = lineText.split(" ");
          words.forEach((word, wIndex) => {
            const span = document.createElement("span");
            span.className = "word";
            span.style.animationDelay = `${wIndex * 0.2}s`;
            span.textContent = word;
            line.appendChild(span);
          });
        }
        container.appendChild(line);
      });
    }

    function bukaKado() {
      const gift = document.getElementById("gift");
      gift.classList.add("explode");
      document.getElementById("bg-music").muted = false;

      setTimeout(() => {
        gift.style.display = "none";
        document.querySelector(".action").style.display = "none";
        document.getElementById("puisi").classList.add("show");
        tampilkanPuisi();
      }, 900);
    }

    const heartsContainer = document.getElementById('hearts');
    const heartSymbols = ['‚ù§', 'üíñ', 'üíï'];
    for (let i = 0; i < 30; i++) {
      const heart = document.createElement('div');
      heart.className = 'heart';
      heart.innerText = heartSymbols[Math.floor(Math.random() * heartSymbols.length)];
      heart.style.left = Math.random() * 100 + '%';
      heart.style.animationDuration = (3 + Math.random() * 3) + 's';
      heart.style.animationDelay = Math.random() * 3 + 's';
      heartsContainer.appendChild(heart);
    }

    const starsContainer = document.getElementById('stars');
    for (let i = 0; i < 100; i++) {
      const star = document.createElement('div');
      star.className = 'star';
      star.style.left = Math.random() * 100 + '%';
      star.style.top = Math.random() * 100 + '%';
      star.style.animationDuration = (1 + Math.random() * 2) + 's';
      starsContainer.appendChild(star);
    }
  </script>

</body>
</html>
